<body><div><h2>Red-Black Tree | Set 1 (Introduction)</h2><div class="post-content" id="post-content">
					<p>Red-Black Tree is a self-balancing Binary Search Tree (BST) where every node follows following rules.<span id="more-125964"></span><br>
<a href="http://d2o58evtke57tz.cloudfront.net/wp-content/uploads/RedBlackTree.png"><img class="alignright  wp-image-125977" alt="RedBlackTree" src="http://d2o58evtke57tz.cloudfront.net/wp-content/uploads/RedBlackTree.png" width="341" height="176"></a><br>
<strong>1) </strong>Every node has a color either red or black.</p>
<p><strong>2) </strong>Root of tree is always black.</p>
<p><strong>3) </strong>There are no two adjacent red nodes (A red node cannot have a red parent or red child).</p>
<p><strong>4) </strong>Every path from root to a NULL node has same number of black nodes.</p>
<p><strong>Why Red-Black Trees?</strong><br>
Most of the BST operations (e.g., search, max, min, insert, delete.. etc) take O(h) time where h is the height of the BST. The cost of these operations may become O(n) for a skewed Binary tree. If we make sure that height of the tree remains O(Logn) after every insertion and deletion, then we can guarantee an upper bound of O(Logn) for all these operations. The height of a Red Black tree is always O(Logn) where n is the number of nodes in the tree.</p>
<p><strong>Comparison with<a href="http://www.geeksforgeeks.org/avl-tree-set-1-insertion/" target="_blank"> AVL Tree</a></strong><br>
The AVL trees are more balanced compared to Red Black Trees, but they may cause more rotations during insertion and deletion. So if your application involves many frequent insertions and deletions, then Red Black trees should be preferred. And if the insertions and deletions are less frequent and search is more frequent operation, then AVL tree should be preferred over Red Black Tree.</p>
<p><strong>How does a Red-Black Tree ensure balance?</strong><br>
A simple example to understand balancing is, a chain of 3 nodes is not possible in red black tree. We can try any combination of colors and see all of them violate Red-Black tree property.</p>
<pre>A chain of 3 nodes is nodes is not possible in Red-Black Trees.
Following are <strong>NOT</strong> Red-Black Trees<strong>
        30</strong>             <span><span><strong>30</strong></span>               <strong><span>30       </span></strong></span>
       / \            /  \             /  \
     <strong>20</strong>  NIL         <strong><span>20</span>   N</strong>IL<strong>         <span>20 </span>  </strong>NIL
    / \             / \              /  \
  <strong>10</strong>  NIL          <strong>10  </strong>NIL<strong>          <span>10</span>  </strong>NIL
Violates          Violates        Violates
Property 4.      Property 4       Property 3

Following are different possible Red-Black Trees with above 3 keys
<strong>         20</strong>             <strong>              20</strong>
       /   \                        /   \
<strong>     10     30</strong>                    <strong><span>10     30</span></strong>
    /  \   /  \                 /  \    /  \
 NIL  NIL NIL NIL             NIL  NIL NIL NIL</pre>
<p><em><br>
</em>From the above examples, we get some idea how Red-Black trees ensure balance. Following is an important fact about balancing in Red-Black Trees.<em><br>
<strong><br>
Every Red Black Tree with <strong>n</strong> nodes has height &lt;= </strong></em> <img src="http://d2o58evtke57tz.cloudfront.net/wp-content/ql-cache/quicklatex.com-24ee68d811af592ded4217a4f755a02b_l3.png" class="ql-img-inline-formula " alt="2\log_2(n+1)" title="Rendered by QuickLaTeX.com" height="18" width="97"></p>
<p>This can be proved using following facts:<br>
1) For a general Binary Tree, let <strong>k</strong> be the minimum number of nodes on all root to NULL paths, then n &gt;= 2<sup>k</sup> &#8211; 1 (Ex. If k is 3, then n is atleast 7). This expression can also be written as k &lt;=<img src="http://d2o58evtke57tz.cloudfront.net/wp-content/ql-cache/quicklatex.com-24ee68d811af592ded4217a4f755a02b_l3.png" class="ql-img-inline-formula " alt="2\log_2(n+1)" title="Rendered by QuickLaTeX.com" height="18" width="97"></p>
<p>2) From property 4 of Red-Black trees and above claim, we can say in a Red-Black Tree with n nodes, there is a root to leaf path with at-most <img src="http://d2o58evtke57tz.cloudfront.net/wp-content/ql-cache/quicklatex.com-26bfcc79e12ab13a01cb78305538b87f_l3.png" class="ql-img-inline-formula " alt="\log_2(n+1)" title="Rendered by QuickLaTeX.com" height="18" width="85"> black nodes.</p>
<p>3) From property 3 of Red-Black trees, we can claim that the number black nodes in a Red-Black tree is at least <img src="http://d2o58evtke57tz.cloudfront.net/wp-content/ql-cache/quicklatex.com-ea53c7e192b148cdd15fc823d6c642d8_l3.png" class="ql-img-inline-formula " alt="\lfloor n/2 \rfloor" title="Rendered by QuickLaTeX.com" height="19" width="39"> where n is total number of nodes.</p>
<p>From above 2 points, we can conclude the fact that Red Black Tree with <strong>n</strong> nodes has height &lt;= <img src="http://d2o58evtke57tz.cloudfront.net/wp-content/ql-cache/quicklatex.com-24ee68d811af592ded4217a4f755a02b_l3.png" class="ql-img-inline-formula " alt="2\log_2(n+1)" title="Rendered by QuickLaTeX.com" height="18" width="97"></p>
<p>In this post, we introduced Red-Black trees and discussed how balance is ensured. The hard part is to maintain balance when keys are added and removed. We will soon be discussing insertion and deletion operations in coming posts on Red-Black tree.</p>
<p><strong>Exercise:</strong><br>
<strong>1)</strong> Is it possible to have all black nodes in a Red-Black tree?<br>
<strong>2) </strong>Draw a Red-Black Tree that is not an <a href="http://www.geeksforgeeks.org/avl-tree-set-1-insertion/" target="_blank">AVL tree</a> structure wise?</p>
<p><strong>Insertion and Deletion</strong><br>
<a href="http://www.geeksforgeeks.org/red-black-tree-set-2-insert/" target="_blank">Red Black Tree Insertion</a><br>
<a href="http://www.geeksforgeeks.org/red-black-tree-set-3-delete-2/" target="_blank">Red-Black Tree Deletion</a></p>
<p><strong>References:</strong><br>
<a href="http://www.flipkart.com/introduction-algorithms-3/p/itmczynzhyhxv2gs?pid=9788120340077&amp;affid=sandeepgfg" target="_blank">Introduction to Algorithms 3rd Edition by Clifford Stein, Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest</a><br>
<a href="http://en.wikipedia.org/wiki/Red%E2%80%93black_tree" target="_blank">http://en.wikipedia.org/wiki/Red%E2%80%93black_tree</a><br>
<a href="http://www.youtube.com/watch?v=4slgC3UOXc0http://" target="_blank">Video Lecture on Red-Black Tree by Tim Roughgarden</a><br>
<a href="http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-introduction-to-algorithms-sma-5503-fall-2005/video-lectures/lecture-10-red-black-trees-rotations-insertions-deletions/" target="_blank">MIT Video Lecture on Red-Black Tree</a><br>
<a href="http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-introduction-to-algorithms-sma-5503-fall-2005/video-lectures/lecture-10-red-black-trees-rotations-insertions-deletions/lec10.pdf" target="_blank">MIT Lecture Notes on Red Black Tree</a></p>
<p>Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above.</p>

&#160;
&#160;







&#160;
&#160;
&#160;
<p>Tags: <a href="http://www.geeksforgeeks.org/tag/advance-data-structures/" rel="tag">Advance Data Structures</a>, <a href="http://www.geeksforgeeks.org/tag/advanced-data-structures/" rel="tag">Advanced Data Structures</a></p>






				<h3>Source:</h3><p><a href="http://www.geeksforgeeks.org/red-black-tree-set-1-introduction-2/" rel="tag">http://www.geeksforgeeks.org/red-black-tree-set-1-introduction-2/</a></p></div>
			</div></body>
